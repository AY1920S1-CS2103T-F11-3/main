@startuml
!include ../style.puml
participant ":DictionaryAnalyser" as DictionaryAnalyser LOGIC_COLOR
participant "d : Dictionary" as Dictionary LOGIC_COLOR
participant "<<class>>\n:LeetUtil" as LeetUtil LOGIC_COLOR
participant ":DictionaryMatch" as DictionaryMatch LOGIC_COLOR
participant ":DictionaryResult" as DictionaryResult LOGIC_COLOR


activate DictionaryAnalyser
activate Dictionary

[-> DictionaryAnalyser : analyse(passwordList)

DictionaryAnalyser -> DictionaryAnalyser : getAllMatches(password)
activate DictionaryAnalyser
loop hasSubsequence
    DictionaryAnalyser -> Dictionary : get(subsequence)
    opt ifExist
        DictionaryAnalyser -> DictionaryMatch
        activate DictionaryMatch
        DictionaryMatch --> DictionaryAnalyser
        deactivate DictionaryMatch
    end
    DictionaryAnalyser -> LeetUtil : unleet(subsequence)
    activate LeetUtil
    LeetUtil --> DictionaryAnalyser
    deactivate LeetUtil
    DictionaryAnalyser -> Dictionary : get(unleetSubsequence)
    opt ifExist
        DictionaryAnalyser -> DictionaryMatch
        activate DictionaryMatch
        DictionaryMatch --> DictionaryAnalyser
        deactivate DictionaryMatch
    end
end
DictionaryAnalyser --> DictionaryAnalyser : matches
deactivate DictionaryAnalyser

alt matches found
    DictionaryAnalyser -> DictionaryResult : DictionaryResult(password, DESC_FAIL, matches)
    activate DictionaryResult
    DictionaryResult --> DictionaryAnalyser
    deactivate DictionaryResult
else matches not found
    DictionaryAnalyser -> DictionaryResult : DictionaryResult(password, DESC_PASS, matches)
        activate DictionaryResult
        DictionaryResult --> DictionaryAnalyser
        deactivate DictionaryResult
end
deactivate Dictionary
[<-- DictionaryAnalyser : results
deactivate DictionaryAnalyser

@enduml
